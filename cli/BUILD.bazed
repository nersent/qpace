tsLibrary("src", {
  srcs: glob("**/*.ts"),
  deps: [
    "//:package_json",
    "//base/js",
    "//base/node",
    "//lib:ts",
    "//compiler:ts",
  ],
});

nodeEntry("main", {
  main: "main.js",
  deps: [":cli"],
});

nodeMainWrapper(`entry`, {
  main: "main.js",
  output: "main.bazed.js",
});

fileSet("cli", {
  deps: [":src", ":entry"],
});
